<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Recorder and Transcriber</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <h1>Voice Recorder and Transcriber</h1>

    <button id="record-button" class="record-btn">
        <div class="loader"></div>
    </button>

    <div id="transcript">
        <h2>Transcript:</h2>
        <p id="text-output"></p>
        <button id="copy-button" class="copy-btn">
            <img src="copy-paste.png" alt="Copy">
        </button>
    </div>

    <button id="clear-button" class="clear-btn">Clear Transcript</button>
    <button id="download-btn" class="download-btn">Download Transcript</button>
    <button id="download-recording-btn" class="download-btn">Download Recording</button>

    <script src="app.js"></script>
    <script>
        let mediaRecorder;
        let audioChunks = [];
        
        // Function to start recording
        function startRecording() {
            navigator.mediaDevices.getUserMedia({ audio: true })
                .then(stream => {
                    mediaRecorder = new MediaRecorder(stream);
                    mediaRecorder.start();
        
                    mediaRecorder.ondataavailable = function(event) {
                        audioChunks.push(event.data);
                    };
        
                    mediaRecorder.onstop = function() {
                        const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                        const audioUrl = URL.createObjectURL(audioBlob);
        
                        // Enable download button and attach the audio URL
                        const downloadBtn = document.getElementById('download-recording-btn');
                        downloadBtn.href = audioUrl;
                        downloadBtn.download = 'recording.wav';
                        downloadBtn.disabled = false;
        
                        // Clear the audio chunks for the next recording
                        audioChunks = [];
                    };
                });
        }
        
        // Function to stop recording
        function stopRecording() {
            mediaRecorder.stop();
        }
        
        // Event listeners for the record button
        document.getElementById('record-btn').addEventListener('mousedown', startRecording);
        document.getElementById('record-btn').addEventListener('mouseup', stopRecording);
        
        // Disable the download button initially
        document.getElementById('download-recording-btn').disabled = true;
        </script>
        
        
</body>
</html>
